# === Backend runtime example ===
# 推論バックエンド: persistence(当日=翌日) or regression(学習モデルを使用)
MODEL_BACKEND=regression
MODEL_PATH=./models/latest_gbdt.joblib

# === Observability / Logging ===
LOG_LEVEL=INFO

# === CORS ===
ALLOW_ORIGINS=https://weatherforecastapp-cicv.onrender.com,http://localhost:3000,http://127.0.0.1:3000
ALLOW_METHODS=GET,POST,OPTIONS
ALLOW_HEADERS=*
EXPOSE_HEADERS=X-Request-ID
ALLOW_CREDENTIALS=true

# === Open-Meteo client ===
OPEN_METEO_BASE=https://api.open-meteo.com
OPEN_METEO_UA=WeatherForecastApp/0.1 (+https://github.com/Kenta-morimori/WeatherForecastApp)
OPEN_METEO_CACHE_TTL=300
OPEN_METEO_DAILY_CACHE_TTL=300

# === Local/Docker 起動用（任意） ===
PORT=8000

# === Nominatim / Geocoding ===
NOMINATIM_BASE=https://nominatim.openstreetmap.org
NOMINATIM_UA=WeatherForecastApp/0.1 (contact: takemori.kenta.official@gmail.com)
NOMINATIM_QPS=1.0

# === HTTP Retry / Circuit Breaker ===
HTTP_RETRY_MAX=2
HTTP_RETRY_BACKOFF_S=0.3
CB_OPEN_THRESHOLD=5
CB_OPEN_WINDOW_S=10.0
CB_RESET_TIMEOUT_S=30.0

# === IP Rate Limit (per API process) ===
RATE_LIMIT_PER_MIN=30
RATE_LIMIT_BURST=30
RATE_LIMIT_PATH_PREFIX=/api/
RATE_LIMIT_BEHIND_PROXY=0  # リバースプロキシ配下なら 1（X-Forwarded-For を参照）
